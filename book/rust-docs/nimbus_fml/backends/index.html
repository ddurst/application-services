<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Backend traits"><title>nimbus_fml::backends - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="nimbus_fml" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0 (5680fa18f 2023-08-23)" data-channel="1.72.0" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../nimbus_fml/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../nimbus_fml/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module backends</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">nimbus_fml</a>::<wbr><a class="mod" href="#">backends</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/nimbus_fml/backends/mod.rs.html#5-268">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="backend-traits"><a href="#backend-traits">Backend traits</a></h2>
<p>This module provides a number of traits useful for implementing a backend for FML structs.</p>
<p>A <a href="trait.CodeType.html" title="trait nimbus_fml::backends::CodeType">CodeType</a> is needed for each type that is referred to in the feature definition (i.e. every <a href="../intermediate_representation/enum.TypeRef.html" title="enum nimbus_fml::intermediate_representation::TypeRef">TypeRef</a>
instance should have corresponding <code>CodeType</code> instance). Helper code for types might include managing how merging/overriding of
defaults occur.</p>
<p>A <a href="trait.CodeDeclaration.html" title="trait nimbus_fml::backends::CodeDeclaration">CodeDeclaration</a> is needed for each type that is declared in the manifest file: i.e. an Object classes, Enum classes and Feature classes.
This has access to intermediate structs of the <a href="../intermediate_representation/struct.FeatureManifest.html" title="struct nimbus_fml::intermediate_representation::FeatureManifest">crate::intermediate_representation::FeatureManifest</a> so may want to do some additional lookups to help rendering.</p>
<p><code>CodeDeclaration</code>s provide the target languageâ€™s version of the type defined in the feature manifest. For objects and features, this would
be objects that have properties corresponding to the FML variables. For enums, this would mean the Enum class definition. In all cases, this will
likely be attached to an [askama::Template].</p>
<p><code>CodeDeclaration</code>s can also be used to conditionally include code: e.g. only include the CallbackInterfaceRuntime
if the user has used at least one callback interface.</p>
<p>Each backend has a wrapper template for each file it needs to generate. This should collect the <code>CodeDeclaration</code>s that
the backend and <code>FeatureManifest</code> between them specify and use them to stitch together a file in the target language.</p>
<p>The <a href="trait.CodeOracle.html" title="trait nimbus_fml::backends::CodeOracle">CodeOracle</a> provides methods to map the <code>TypeRef</code> values found in the <code>FeatureManifest</code> to the <code>CodeType</code>s specified
by the backend.</p>
<p>Each backend will have its own <code>filter</code> module, which is used by the askama templates used in all <code>CodeType</code>s and <code>CodeDeclaration</code>s.
This filter provides methods to generate expressions and identifiers in the target language. These are all forwarded to the oracle.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="experimenter_manifest/index.html" title="mod nimbus_fml::backends::experimenter_manifest">experimenter_manifest</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="frontend_manifest/index.html" title="mod nimbus_fml::backends::frontend_manifest">frontend_manifest</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="kotlin/index.html" title="mod nimbus_fml::backends::kotlin">kotlin</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="swift/index.html" title="mod nimbus_fml::backends::swift">swift</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.VariablesType.html" title="enum nimbus_fml::backends::VariablesType">VariablesType</a></div><div class="desc docblock-short">The generated code is running against hand written code to give type safe, error free access to JSON.
This is the <code>Variables</code> object. This enum gives the underlying types that the <code>Variables</code> object supports.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.CodeDeclaration.html" title="trait nimbus_fml::backends::CodeDeclaration">CodeDeclaration</a></div><div class="desc docblock-short">A trait that is able to render a declaration about a particular member declared in
the <code>FeatureManifest</code>.
Like <code>CodeType</code>, it can render declaration code and imports.
All methods are optional, and there is no requirement that the trait be used for a particular
member. Thus, it can also be useful for conditionally rendering code.</div></li><li><div class="item-name"><a class="trait" href="trait.CodeOracle.html" title="trait nimbus_fml::backends::CodeOracle">CodeOracle</a></div><div class="desc docblock-short">An object to look up a foreign language code specific renderer for a given type used.
Every <a href="../intermediate_representation/enum.TypeRef.html" title="enum nimbus_fml::intermediate_representation::TypeRef">TypeRef</a> referred to in the <a href="../intermediate_representation/struct.FeatureManifest.html" title="struct nimbus_fml::intermediate_representation::FeatureManifest">crate::intermediate_representation::FeatureManifest</a> should map to a corresponding
<code>CodeType</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.CodeType.html" title="trait nimbus_fml::backends::CodeType">CodeType</a></div><div class="desc docblock-short">A Trait to emit foreign language code to handle referenced types.
A type which is specified in the FML (i.e. a type that a variable declares itself of)
will have a <code>CodeDeclaration</code> as well, but for types used e.g. primitive types, Strings, etc
only a <code>CodeType</code> is needed.</div></li><li><div class="item-name"><a class="trait" href="trait.LiteralRenderer.html" title="trait nimbus_fml::backends::LiteralRenderer">LiteralRenderer</a></div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.TypeIdentifier.html" title="type nimbus_fml::backends::TypeIdentifier">TypeIdentifier</a></div></li></ul></section></div></main></body></html>