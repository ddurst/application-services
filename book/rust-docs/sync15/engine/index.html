<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module is used by crates which need to implement a “sync engine”. At a high-level, a “sync engine” is code which knows how to take records from a sync server, apply and reconcile them with the local data, then provide records which should be uploaded to the server."><title>sync15::engine - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sync15" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0 (5680fa18f 2023-08-23)" data-channel="1.72.0" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../sync15/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../sync15/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module engine</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">sync15</a>::<wbr><a class="mod" href="#">engine</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/sync15/engine/mod.rs.html#5-37">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module is used by crates which need to implement a “sync engine”.
At a high-level, a “sync engine” is code which knows how to take records
from a sync server, apply and reconcile them with the local data, then
provide records which should be uploaded to the server.</p>
<p>Note that the “sync engine” does not itself talk to the server, nor does
it manage the state of the remote server, nor does it do any of the
encryption/decryption - that is the responsbility of the “sync client”, as
implemented in the [client] module (or in some cases, implemented externally)</p>
<p>There are currently 2 types of engine:</p>
<ul>
<li>Code which implements the <a href="trait.SyncEngine.html" title="trait sync15::engine::SyncEngine">crate::engine::sync_engine::SyncEngine</a>
trait. These are the “original” Rust engines, designed to be used with
the <a href="../client/index.html" title="mod sync15::client">crate::client</a>(sync client)</li>
<li>Code which implements the <a href="trait.BridgedEngine.html" title="trait sync15::engine::BridgedEngine">crate::engine::bridged_engine::BridgedEngine</a>
trait. These engines are a “bridge” between the Desktop JS Sync world and
this rust code.
While these engines end up doing the same thing, the difference is due to
implementation differences between the Desktop Sync client and the Rust
client.
We intend merging these engines - the first step will be to merge the
types and payload management used by these traits, then to combine the
requirements into a single trait that captures both use-cases.</li>
</ul>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ApplyResults.html" title="struct sync15::engine::ApplyResults">ApplyResults</a></div></li><li><div class="item-name"><a class="struct" href="struct.CollSyncIds.html" title="struct sync15::engine::CollSyncIds">CollSyncIds</a></div></li><li><div class="item-name"><a class="struct" href="struct.CollectionRequest.html" title="struct sync15::engine::CollectionRequest">CollectionRequest</a></div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.EngineSyncAssociation.html" title="enum sync15::engine::EngineSyncAssociation">EngineSyncAssociation</a></div><div class="desc docblock-short">Defines how an engine is associated with a particular set of records
on a sync storage server. It’s either disconnected, or believes it is
connected with a specific set of GUIDs. If the server and the engine don’t
agree on the exact GUIDs, the engine will assume something radical happened
so it can’t believe anything it thinks it knows about the state of the
server (ie, it will “reset” then do a full reconcile)</div></li><li><div class="item-name"><a class="enum" href="enum.RequestOrder.html" title="enum sync15::engine::RequestOrder">RequestOrder</a></div></li><li><div class="item-name"><a class="enum" href="enum.SyncEngineId.html" title="enum sync15::engine::SyncEngineId">SyncEngineId</a></div><div class="desc docblock-short">The concrete <code>SyncEngine</code> implementations</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.BridgedEngine.html" title="trait sync15::engine::BridgedEngine">BridgedEngine</a></div><div class="desc docblock-short">A BridgedEngine acts as a bridge between application-services, rust
implemented sync engines and sync engines as defined by Desktop Firefox.</div></li><li><div class="item-name"><a class="trait" href="trait.BridgedEngineAdaptor.html" title="trait sync15::engine::BridgedEngineAdaptor">BridgedEngineAdaptor</a></div></li><li><div class="item-name"><a class="trait" href="trait.SyncEngine.html" title="trait sync15::engine::SyncEngine">SyncEngine</a></div><div class="desc docblock-short">A “sync engine” is a thing that knows how to sync. It’s often implemented
by a “store” (which is the generic term responsible for all storage
associated with a component, including storage required for sync.)</div></li></ul></section></div></main></body></html>